<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Гамбургер</title>
</head>
<body>

<div class="formHamburger"></div>

<hr>
<h2>Ваш заказ</h2>
<div class="basket"></div>
<p>Сумма: <span id="price"></span></p>
<p>Калорийность: <span id="calories"></span></p>



<script src="settingsHamburger.js"></script>
<script src="Hamburger.js"></script>
<script src="FormHamburger.js"></script>
<script src="Basket.js"></script>

<script>

  const containerEl = document.querySelector('.formHamburger');
  const formHam = new FormHamburger(settingsHamburger);
  formHam.render(containerEl, 'hamburger');

  hamburger = new Hamburger(settingsHamburger);

  const onFormChange = function() {
    for (const key in settingsHamburger) {
      hamburger.setValue(key, formHam.getValue(key, settingsHamburger[key].multiCheck));
    }

    const priceEl = document.querySelector('#price');
    priceEl.textContent = hamburger.calculatePrice();

    const caloriesEl = document.querySelector('#calories');
    caloriesEl.textContent = hamburger.calculateCalories();
  };

  const basket = new Basket();
  const onFormSubmit = function(){
    basket.addProduct(hamburger);
    basket.render(document.querySelector('.basket'));
  };

  formHam.formEl.addEventListener('change', () => onFormChange());
  formHam.formEl.addEventListener('submit', () => onFormSubmit());

  onFormChange();


</script>
</body>
</html>